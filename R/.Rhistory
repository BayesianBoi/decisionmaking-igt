ahn2014_Hero,
frid_HC,
frid_Cbis))
dataList <- foreach(i=seq_along(unique(all_dat$group_id))) %do% {
# Subset study data
rawdata <- all_dat %>% filter(group_id==i)
# Individual Subjects
subjList <- unique(rawdata[,"subjID"])  # list of subjects x blocks
numSubjs <- length(subjList)  # number of subjects
Tsubj <- as.vector( rep( 0, numSubjs ) ) # number of trials for each subject
group_id <- as.vector( rep( 0, numSubjs ) ) # group identifier for each subject
for ( sIdx in 1:numSubjs )  {
curSubj     <- subjList[ sIdx ]
Tsubj[sIdx] <- sum( rawdata$subjID == curSubj )  # Tsubj[N]
group_id[sIdx] <- rawdata$group_id[rawdata$subjID == curSubj][1]
}
maxTrials <- max(Tsubj)
RLmatrix <- SRLmatrix <- array( 0, c(numSubjs, maxTrials ) )
Ydata    <- array(1, c(numSubjs, maxTrials) )
for ( subjIdx in 1:numSubjs )   {
#number of trials for each subj.
useTrials                      <- Tsubj[subjIdx]
currID                         <- subjList[ subjIdx ]
rawdata_curSubj                <- subset( rawdata, rawdata$subjID == currID )
RLmatrix[subjIdx, 1:useTrials] <- rawdata_curSubj[, "gain"] -1 * abs( rawdata_curSubj[ , "loss" ])
for ( tIdx in 1:useTrials ) {
Y_t                     <- rawdata_curSubj[ tIdx, "deck" ] # chosen Y on trial "t"
Ydata[ subjIdx , tIdx ] <- Y_t
# For binarizing
if ( RLmatrix[subjIdx, tIdx] > 0 ) {
SRLmatrix[subjIdx, tIdx] <- 1
} else if ( RLmatrix[subjIdx, tIdx] == 0 ) {
SRLmatrix[subjIdx, tIdx] <- 0
} else {
SRLmatrix[subjIdx, tIdx] <- -1
}
}
}
list(
N       = numSubjs,
T       = maxTrials,
Tsubj   = Tsubj ,
Srewlos = SRLmatrix,
rewlos  = RLmatrix / 100,
ydata   = Ydata
)
}
names(dataList) <- unique(all_dat$Study)
m <- stan_model("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_orl_v3.stan")
ahn2014 <- sampling(m, data = dataList$ahn2014_HC, iter = 2000, warmup = 1100, chains = 2, cores = 2)
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
0^2
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
dataList$ahn2014_HC$Srewlos
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
m <- stan_model("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
fit <- sampling(m, data = dataList$ahn2014_HC, iter = 2000, warmup = 1000, chains = 2, cores = 2)
View(plot_IGT_dat)
fit <- sampling(m, data = dataList$ahn2014_HC, iter = 20, warmup = 10, chains = 2, cores = 2)
fit <- sampling(m, data = dataList$ahn2014_HC, iter = 20, warmup = 10, chains = 1)
traceplot(fit)
fit
stopCluster()
stopCluster(cl)
cl <- makeCluster(4)
registerDoSNOW(cl)
stopCluster(cl)
dataList$ahn2014_HC
traceplot(fit)
?sampling
fit <- sampling(m, data = dataList$ahn2014_HC, iter = 20, warmup = 10, chains = 2, cores=2)
fit
install.packages("rstan", type = "source")
install.packages("rstan", type = "source")
install.packages("rstan", type = "source")
install.packages("rstan", type = "source")
install.packages("rstan", type = "source")
install.packages("rstan", type = "source")
library(rstan)
m <- stan_model("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_9.stan")
fit <- sampling(m, data = dataList$ahn2014_HC, iter = 20, warmup = 10, chains = 2, cores=2)
fit <- sampling(m, data = dataList$ahn2014_HC, iter = 2000, warmup = 1000, chains = 2, cores=2)
library(loo);loo(extract_log_lik(fit))
saveRDS(fit, file = "~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/Data/fit_M7_2_WM_v9_12_9.rds")
traceplot(fit)
pow(2,2)
library(ggplot2)
library(cowplot)
library(doParallel)
library(foreach)
library(abind)
setwd("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/R/")
source("simulate_igt_v2.R")
source("set_version_igt.R")
source("plot_IGT_dat.R")
simulate_igt(dat = fit,
model = "orl_WM_v1",
title = "ORL",
version = "modified",
iters = 100,
n_cores = 2,
pred_den = NULL)
simulate_igt(dat = fit,
model = "orl_WM_v1",
title = "ORL",
version = "modified",
iters = 100,
n_cores = 2,
pred_den = NULL)
simulate_igt(dat = fit,
model = "orl_WM_v1",
title = "ORL",
version = "modified",
iters = 100,
n_cores = 2,
pred_den = NULL)
ev         <- c(0, 0, 0, 0)               # Initial expected values
ef         <- c(0, 0, 0, 0)               # Initial expected frequency values
pi         <- c(0, 0, 0, 0)
pers       <- c(0, 0, 0, 0)
ef_dist    <- c(0, 0, 0, 0)
ev_WM_gain <- c(0, 0, 0, 0)
ev_WM_loss <- c(0, 0, 0, 0)
pers       <- c(0, 0, 0, 0)               # Initial perseverance values
pChoose    <- c(0.25, 0.25, 0.25, 0.25)   # Initial probability of choosing each deck
deckCount  <- c(0, 0, 0, 0)
View(simulate_igt)
View(set_version_igt)
simulate_igt(dat = fit,
model = "orl_WM_v1",
title = "ORL",
version = "modified",
iters = 100,
n_cores = 2,
pred_den = NULL)
names(fits)
rm(list=ls())
library(ggplot2)
library(cowplot)
library(doParallel)
library(foreach)
library(abind)
setwd("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/R/")
source("simulate_igt_v2.R")
source("set_version_igt.R")
source("plot_IGT_dat.R")
# Load all data and fits
behav_dat <- readRDS("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/Data/all_dat_12_studies_IGT_Data_stan_ready.rds")
fits <- readRDS("~/Dropbox/Box/CCSL/Projects/IGT/OSF_Steingroever2014_Data/fits_all_orl_v2.rds")
names(fits) <- unique(behav_dat$Study)
names(fits)
igt_versions <- c(rep("original", 7), rep("modified", 3), rep("original", 2))
# For original IGT
plot_behav <- list()
plot_sim   <- list()
igt_versions <- c(rep("original", 7), rep("modified", 3), rep("original", 2))
for (i in seq_along(names(fits))) {
plot_behav[[i]] <- plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[i]),
ylim = c(0,0.5))
plot_sim[[i]] <- simulate_igt(dat = fits[[names(fits)[i]]],
model = "orl_hyper",
title = "ORL",
version = igt_versions[i],
iters = 50,
n_cores = 2,
pred_den = NULL)
}
plot_grid(plotlist = append(plot_behav, plot_sim), ncol=12)
library(dplyr)
# For original IGT
plot_behav <- list()
plot_sim   <- list()
igt_versions <- c(rep("original", 7), rep("modified", 3), rep("original", 2))
for (i in seq_along(names(fits))) {
plot_behav[[i]] <- plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[i]),
ylim = c(0,0.5))
plot_sim[[i]] <- simulate_igt(dat = fits[[names(fits)[i]]],
model = "orl_hyper",
title = "ORL",
version = igt_versions[i],
iters = 50,
n_cores = 2,
pred_den = NULL)
}
plot_grid(plotlist = append(plot_behav, plot_sim), ncol=12)
View(simulate_igt)
source("simulate_igt_v2.R")
source("set_version_igt.R")
source("plot_IGT_dat.R")
plot_behav <- list()
plot_sim   <- list()
igt_versions <- c(rep("original", 7), rep("modified", 3), rep("original", 2))
for (i in seq_along(names(fits))) {
plot_behav[[i]] <- plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[i]),
ylim = c(0,0.5))
plot_sim[[i]] <- simulate_igt(dat = fits[[names(fits)[i]]],
model = "orl_hyper",
title = "ORL",
order = "random",
version = igt_versions[i],
iters = 50,
n_cores = 2,
pred_den = NULL)
}
plot_grid(plotlist = append(plot_behav, plot_sim), ncol=12)
rm(list=ls())
library(rstan)
library(cowplot)
library(dplyr)
library(loo)
library(ggplot2)
library(reshape2)
library(foreach)
library(doSNOW)
source('~/Dropbox/Box/CCSL/Projects/IGT/Misc_R_codes/plot_simulation_lambda_v2.R')
source('~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/R/plot_IGT_dat.R')
load("~/Dropbox/Box/CCSL/Projects/IGT/OSF_Steingroever2014_Data/IGTdata.rdata")
# Create long data
all_dat <- melt(choice_100, c("subjID", "trial"), value.name="deck")
all_dat$loss <- melt(lo_100, c("subjID", "trial"), value.name="loss")$loss
all_dat$gain <- melt(wi_100, c("subjID", "trial"), value.name="gain")$gain
all_dat <- all_dat[order(all_dat$subjID),]
# Modify IDs
all_dat$subjID <- as.numeric(gsub(x = all_dat$subjID, pattern = "^Subj_", replacement = ""))
# Join IDs with studies
all_dat <- full_join(all_dat, as.data.frame(index_100) %>%
mutate(Subj = as.numeric(as.character(Subj))),
by = c("subjID" = "Subj")) %>%
mutate(trial = as.numeric(gsub(x = trial,
pattern = "^Choice_",
replacement = "")))
# Set study ID to integer
all_dat$group_id <- as.integer(as.factor(all_dat$Study))
# Read in Ahn2014 and Fridberg data
ahn2014_HC <- read.table("~/Dropbox/CCSL/R_Package_Project/Data/Ahn2014_Data/IGTdata_HC.txt", header=T) %>%
mutate(Study = "ahn2014_HC",
group_id = 8)
ahn2014_Amph <- read.table("~/Dropbox/CCSL/R_Package_Project/Data/Ahn2014_Data/IGTdata_A_Full.txt", header=T) %>%
mutate(Study = "ahn2014_Amph",
group_id = 9)
ahn2014_Hero <- read.table("~/Dropbox/CCSL/R_Package_Project/Data/Ahn2014_Data/IGTdata_H.txt", header=T) %>%
mutate(Study = "ahn2014_Hero",
group_id = 10)
frid_HC <- read.table("~/Dropbox/CCSL/R_Package_Project/Data/Fridberg2010/Porrino_Control.txt", header=T) %>%
mutate(Study = "frid_HC",
group_id = 11) %>%
select(-deckCopy)
frid_Cbis <- read.table("~/Dropbox/CCSL/R_Package_Project/Data/Fridberg2010/Porrino_CurrUser.txt", header=T) %>%
mutate(Study = "frid_Cbis",
group_id = 12) %>%
select(-deckCopy)
all_dat <- full_join(all_dat, rbind(ahn2014_HC,
ahn2014_Amph,
ahn2014_Hero,
frid_HC,
frid_Cbis))
saveRDS(all_dat, file = "~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/Data/all_dat_12_studies_IGT_Data_stan_ready.rds")
dataList <- foreach(i=seq_along(unique(all_dat$group_id))) %do% {
# Subset study data
rawdata <- all_dat %>% filter(group_id==i)
# Individual Subjects
subjList <- unique(rawdata[,"subjID"])  # list of subjects x blocks
numSubjs <- length(subjList)  # number of subjects
Tsubj <- as.vector( rep( 0, numSubjs ) ) # number of trials for each subject
group_id <- as.vector( rep( 0, numSubjs ) ) # group identifier for each subject
for ( sIdx in 1:numSubjs )  {
curSubj     <- subjList[ sIdx ]
Tsubj[sIdx] <- sum( rawdata$subjID == curSubj )  # Tsubj[N]
group_id[sIdx] <- rawdata$group_id[rawdata$subjID == curSubj][1]
}
maxTrials <- max(Tsubj)
RLmatrix <- SRLmatrix <- array( 0, c(numSubjs, maxTrials ) )
Ydata    <- array(1, c(numSubjs, maxTrials) )
for ( subjIdx in 1:numSubjs )   {
#number of trials for each subj.
useTrials                      <- Tsubj[subjIdx]
currID                         <- subjList[ subjIdx ]
rawdata_curSubj                <- subset( rawdata, rawdata$subjID == currID )
RLmatrix[subjIdx, 1:useTrials] <- rawdata_curSubj[, "gain"] -1 * abs( rawdata_curSubj[ , "loss" ])
for ( tIdx in 1:useTrials ) {
Y_t                     <- rawdata_curSubj[ tIdx, "deck" ] # chosen Y on trial "t"
Ydata[ subjIdx , tIdx ] <- Y_t
# For binarizing
if ( RLmatrix[subjIdx, tIdx] > 0 ) {
SRLmatrix[subjIdx, tIdx] <- 1
} else if ( RLmatrix[subjIdx, tIdx] == 0 ) {
SRLmatrix[subjIdx, tIdx] <- .5
} else {
SRLmatrix[subjIdx, tIdx] <- 0
}
}
}
list(
N       = numSubjs,
T       = maxTrials,
Tsubj   = Tsubj ,
Srewlos = SRLmatrix,
rewlos  = RLmatrix / 100,
ydata   = Ydata
)
}
names(dataList) <- unique(all_dat$Study)
m <- stan_model("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_10.stan")
fit <- sampling(m, data = dataList$SteingroverInPrep, iter = 1000, warmup = 500, chains = 2, cores=2)
simulate_igt(dat = fit,
model = "orl_WM_v2",
title = "ORL",
version = "original",
iters = 100,
n_cores = 2,
pred_den = NULL)
source("simulate_igt_v2.R")
source("set_version_igt.R")
source("plot_IGT_dat.R")
setwd("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/R/")
simulate_igt(dat = fit,
model = "orl_WM_v2",
title = "ORL",
version = "original",
iters = 100,
n_cores = 2,
pred_den = NULL)
fit <- sampling(m, data = dataList$SteingroverInPrep, iter = 1000, warmup = 500, chains = 1, cores=1)
simulate_igt(dat = fit,
model = "orl_WM_v2",
title = "ORL",
version = "original",
iters = 100,
n_cores = 2,
pred_den = NULL)
names(dataList)
plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[4]),
ylim = c(0,0.5))
behav_dat <- readRDS("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/Data/all_dat_12_studies_IGT_Data_stan_ready.rds")
plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[4]),
ylim = c(0,0.5))
fits <- readRDS("~/Dropbox/Box/CCSL/Projects/IGT/OSF_Steingroever2014_Data/fits_all_orl_v2.rds")
plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[4]),
ylim = c(0,0.5))
names(fits)
names(fits) <- unique(behav_dat$Study)
plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[4]),
ylim = c(0,0.5))
fit <- sampling(m, data = dataList$Maia, iter = 1000, warmup = 500, chains = 1, cores=1)
p1 <- plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[3]),
ylim = c(0,0.5))
p2 <- simulate_igt(dat = fit,
model = "orl_WM_v2",
title = "ORL",
version = "original",
iters = 100,
n_cores = 2,
pred_den = NULL)
cowplot::plot_grid(p1,p2,ncol=2)
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_11.stan")
m <- stan_model("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_11.stan")
fit <- sampling(m, data = dataList$Maia, iter = 1000, warmup = 500, chains = 1, cores=1)
simulate_igt(dat = fit,
model = "orl_WM_v3",
title = "ORL",
version = "original",
iters = 100,
n_cores = 2,
pred_den = NULL)
simulate_igt(dat = fit,
model = "orl_WM_v3",
title = "ORL",
version = "original",
iters = 100,
n_cores = 2,
pred_den = NULL)
simulate_igt(dat = fit,
model = "orl_WM_v3",
title = "ORL",
version = "original",
iters = 100,
n_cores = 2,
pred_den = NULL)
m <- stan_model("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_12.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_12.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_12.stan")
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_12.stan")
m <- stan_model("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_12.stan")
fit <- vb(m, data = dataList$fridberg_HC,adapt_engaged =F, eta = 1)
rstan:::rstudio_stanc("~/Dropbox/CCSL/R_Package_Project/Package_Build/hBayesDMdev/inst/stan/igt_M7_2_WM_v9_12_12.stan")
fit <- vb(m, data = dataList$frid_HC,adapt_engaged =F, eta = 1)
rm(list=ls())
library(ggplot2)
library(cowplot)
library(dplyr)
library(doParallel)
library(foreach)
library(abind)
setwd("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/R/")
source("simulate_igt_v2.R")
source("set_version_igt.R")
source("plot_IGT_dat.R")
# Load all data and fits
behav_dat <- readRDS("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/Data/all_dat_12_studies_IGT_Data_stan_ready.rds")
fits <- readRDS("~/Dropbox/Box/CCSL/Projects/IGT/OSF_Steingroever2014_Data/fits_all_vpp_cauchy01.rds")
names(fits) <- unique(behav_dat$Study)
# For original IGT
plot_behav <- list()
plot_sim   <- list()
igt_versions <- c(rep("original", 7), rep("modified", 3), rep("original", 2))
for (i in seq_along(names(fits))) {
plot_behav[[i]] <- plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[i]),
ylim = c(0,0.5))
plot_sim[[i]] <- simulate_igt(dat = fits[[names(fits)[i]]],
model = "vpp",
title = "VPP",
order = "set",
version = igt_versions[i],
iters = 50,
n_cores = 2,
pred_den = NULL)
}
plot_grid(plotlist = append(plot_behav, plot_sim), ncol=12)
rm(list=ls())
library(ggplot2)
library(cowplot)
library(dplyr)
library(doParallel)
library(foreach)
library(abind)
setwd("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/R/")
source("simulate_igt_v2.R")
source("set_version_igt.R")
source("plot_IGT_dat.R")
# Load all data and fits
behav_dat <- readRDS("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/Data/all_dat_12_studies_IGT_Data_stan_ready.rds")
fits <- readRDS("~/Dropbox/Box/CCSL/Projects/IGT/OSF_Steingroever2014_Data/fits_all_M7_2_WM_v9_12_12.rds")
names(fits) <- unique(behav_dat$Study)
# For original IGT
plot_behav <- list()
plot_sim   <- list()
igt_versions <- c(rep("original", 7), rep("modified", 3), rep("original", 2))
for (i in seq_along(names(fits))) {
plot_behav[[i]] <- plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[i]),
ylim = c(0,0.5))
plot_sim[[i]] <- simulate_igt(dat = fits[[names(fits)[i]]],
model = "orl_WM_v3",
title = "ORL_WM_v3",
order = "set",
version = igt_versions[i],
iters = 50,
n_cores = 3,
pred_den = NULL)
}
plot_grid(plotlist = append(plot_behav, plot_sim), ncol=12)
names(fits)
rm(list=ls())
library(ggplot2)
library(cowplot)
library(dplyr)
library(doParallel)
library(foreach)
library(abind)
setwd("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/R/")
source("simulate_igt_v2.R")
source("set_version_igt.R")
source("plot_IGT_dat.R")
# Load all data and fits
behav_dat <- readRDS("~/Dropbox/Box/CCSL/Projects/IGT/manuscript/Code/Data/all_dat_12_studies_IGT_Data_stan_ready.rds")
fits <- readRDS("~/Dropbox/Box/CCSL/Projects/IGT/OSF_Steingroever2014_Data/fits_all_M7_2_WM_v9_12_12.rds")
names(fits) <- unique(behav_dat$Study)
# For original IGT
plot_behav <- list()
plot_sim   <- list()
igt_versions <- c(rep("original", 7), rep("modified", 3), rep("original", 2))
for (i in seq_along(names(fits))) {
plot_behav[[i]] <- plot_IGT_dat(data=behav_dat %>%
filter(Study==names(fits)[i]),
ylim = c(0,0.5))
plot_sim[[i]] <- simulate_igt(dat = fits[[names(fits)[i]]],
model = "orl_WM_v4",
title = "ORL_WM_v4",
order = "set",
version = igt_versions[i],
iters = 50,
n_cores = 2,
pred_den = NULL)
}
plot_grid(plotlist = append(plot_behav, plot_sim), ncol=12)
names(fits)
traceplot(fits[[1]])
traceplot(fits[[2]])
traceplot(fits[[3]])
traceplot(fits[[4]])
traceplot(fits[[5]])
traceplot(fits[[6]])
